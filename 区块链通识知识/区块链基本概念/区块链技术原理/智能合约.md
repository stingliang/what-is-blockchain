<!-- 
It is written by liangrui_ibilling,
email:liangrui_ibilling@si-tech.com
-->

## 智能合约

### 智能合约是什么？

其实，智能合约并不是区块链独有的概念。早在1995年，跨领域学者NickSzabo就提出了智能合约的概念，他对智能合约的定义为：“一个智能合约是一套以数字形式定义的承诺，包括合约参与方可以在上面执行这些承诺的协议。”简单来说，智能合约是一种在满足一定条件时，就自动执行的计算机程序。例如自动售货机，就可以视为一个智能合约系统。客户需要选择商品，并完成支付，这两个条件都满足后售货机就会自动吐出货物。

### 智能合约的原理

一个基于区块链的智能合约需要包括事务处理机制、数据存储机制以及完备的状态机，用于接收和处理各种条件。并且事务的触发、处理及数据保存都必须在链上进行。当满足触发条件后，智能合约即会根据预设逻辑，读取相应数据并进行计算，最后将计算结果永久保存在链式结构中。智能合约在区块链中的运行逻辑如图所示：

![smartContract](https://github-1302606429.cos.ap-chengdu.myqcloud.com/blockchain/images/blockchainTechnologyPrinciples/smartContract.jpg)

对应前面打赌的例子，智能合约即为通过代码实现的打赌内容。该智能合约预置的触发条件即为规定球赛场次、时间等相关信息，同时需要规定获取结果途径（例如直接从官网获取结果）。预置响应条件即为触发事件后，智能合约具体执行内容。条件1：皇马赢，响应1：钱直接打入我的账户；条件2：拜仁赢，响应2：钱直接打入小明账户。该智能合约一经部署，其内容就会永久地保存在链上，并严格执行。球赛结束后，区块链网络中的节点均会验证响应条件，并将执行结果永久记录在链上。